<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>F25 Survey Results Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    #root {
      width: 100vw;
      height: 100vh;
    }
  </style>
</head>
<body>
  <div id="root">Loading...</div>

  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/recharts@2.5.0/dist/Recharts.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script>
    // Wait for all libraries to load
    function checkLibrariesLoaded() {
      if (typeof React !== 'undefined' && 
          typeof ReactDOM !== 'undefined' && 
          typeof Recharts !== 'undefined' && 
          typeof Babel !== 'undefined') {
        loadApp();
      } else {
        setTimeout(checkLibrariesLoaded, 100);
      }
    }

    function loadApp() {
      const script = document.createElement('script');
      script.type = 'text/babel';
      script.text = `
        const { useState } = React;
        const { BarChart, Bar, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } = Recharts;

        const SurveyDashboard = () => {
          const [activeTab, setActiveTab] = useState('demographics');

          const aiOpinionData = [
            { name: 'Very Negative', value: 18, pct: 27.7 },
            { name: 'Somewhat Negative', value: 26, pct: 40.0 },
            { name: 'Neutral', value: 12, pct: 18.5 },
            { name: 'Somewhat Positive', value: 8, pct: 12.3 },
            { name: 'Very Positive', value: 1, pct: 1.5 }
          ];

          const seasonData = [
            { name: 'Fall', value: 28 },
            { name: 'Summer', value: 14 },
            { name: 'Winter', value: 13 },
            { name: 'Spring', value: 8 }
          ];

          const workData = [
            { category: "Don't work", count: 38 },
            { category: '1-10 hrs', count: 7 },
            { category: '11-20 hrs', count: 15 },
            { category: '20+ hrs', count: 5 }
          ];

          const campusMealsData = [
            { category: '0 meals', count: 22 },
            { category: '1-7 meals', count: 24 },
            { category: '8-14 meals', count: 13 },
            { category: '15+ meals', count: 6 }
          ];

          const preferenceData = [
            { category: 'Cats', value: 24 },
            { category: 'Dogs', value: 24 },
            { category: 'No pref', value: 14 },
            { category: 'Dislike both', value: 3 }
          ];

          const originData = [
            { name: 'WA (outside Whatcom)', value: 39 },
            { name: 'Other US State', value: 16 },
            { name: 'Whatcom County', value: 5 },
            { name: 'Outside US', value: 4 }
          ];

          const COLORS = ['#8b5cf6', '#ec4899', '#f59e0b', '#10b981', '#3b82f6', '#6366f1'];

          return (
            <div className="w-full h-full bg-gradient-to-br from-slate-50 to-blue-50 p-6 overflow-auto">
              <div className="max-w-7xl mx-auto">
                <div className="mb-8">
                  <h1 className="text-4xl font-bold text-slate-800 mb-2">F25 Survey Results: Exploratory Analysis</h1>
                  <p className="text-slate-600 text-lg">n = 65 students | 23 variables</p>
                </div>

                <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                  <div className="bg-white rounded-lg shadow p-4 border-l-4 border-purple-500">
                    <div className="text-2xl font-bold text-slate-800">12.1</div>
                    <div className="text-sm text-slate-600">Avg States Visited</div>
                  </div>
                  <div className="bg-white rounded-lg shadow p-4 border-l-4 border-pink-500">
                    <div className="text-2xl font-bold text-slate-800">3.9</div>
                    <div className="text-sm text-slate-600">Avg Countries Visited</div>
                  </div>
                  <div className="bg-white rounded-lg shadow p-4 border-l-4 border-blue-500">
                    <div className="text-2xl font-bold text-slate-800">58.5%</div>
                    <div className="text-sm text-slate-600">Don't Work</div>
                  </div>
                  <div className="bg-white rounded-lg shadow p-4 border-l-4 border-green-500">
                    <div className="text-2xl font-bold text-slate-800">81.5%</div>
                    <div className="text-sm text-slate-600">Not First Gen</div>
                  </div>
                </div>

                <div className="flex space-x-2 mb-6 border-b border-slate-200">
                  {['demographics', 'lifestyle', 'opinions'].map(tab => (
                    <button
                      key={tab}
                      onClick={() => setActiveTab(tab)}
                      className={\`px-6 py-3 font-medium transition-colors \${
                        activeTab === tab
                          ? 'text-purple-600 border-b-2 border-purple-600'
                          : 'text-slate-600 hover:text-slate-800'
                      }\`}
                    >
                      {tab.charAt(0).toUpperCase() + tab.slice(1)}
                    </button>
                  ))}
                </div>

                {activeTab === 'demographics' && (
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div className="bg-white rounded-lg shadow p-6">
                      <h3 className="text-xl font-semibold mb-4 text-slate-800">Where Students Are From</h3>
                      <ResponsiveContainer width="100%" height={300}>
                        <PieChart>
                          <Pie
                            data={originData}
                            cx="50%"
                            cy="50%"
                            labelLine={false}
                            label={({name, percent}) => \`\${name}: \${(percent * 100).toFixed(0)}%\`}
                            outerRadius={80}
                            fill="#8884d8"
                            dataKey="value"
                          >
                            {originData.map((entry, index) => (
                              <Cell key={\`cell-\${index}\`} fill={COLORS[index % COLORS.length]} />
                            ))}
                          </Pie>
                          <Tooltip />
                        </PieChart>
                      </ResponsiveContainer>
                    </div>

                    <div className="bg-white rounded-lg shadow p-6">
                      <h3 className="text-xl font-semibold mb-4 text-slate-800">Work Hours per Week</h3>
                      <ResponsiveContainer width="100%" height={300}>
                        <BarChart data={workData}>
                          <CartesianGrid strokeDasharray="3 3" />
                          <XAxis dataKey="category" />
                          <YAxis />
                          <Tooltip />
                          <Bar dataKey="count" fill="#8b5cf6" />
                        </BarChart>
                      </ResponsiveContainer>
                    </div>

                    <div className="bg-white rounded-lg shadow p-6">
                      <h3 className="text-xl font-semibold mb-4 text-slate-800">Campus Meals per Week</h3>
                      <ResponsiveContainer width="100%" height={300}>
                        <BarChart data={campusMealsData}>
                          <CartesianGrid strokeDasharray="3 3" />
                          <XAxis dataKey="category" />
                          <YAxis />
                          <Tooltip />
                          <Bar dataKey="count" fill="#ec4899" />
                        </BarChart>
                      </ResponsiveContainer>
                    </div>

                    <div className="bg-white rounded-lg shadow p-6">
                      <h3 className="text-xl font-semibold mb-4 text-slate-800">Key Demographics</h3>
                      <div className="space-y-4">
                        <div>
                          <div className="flex justify-between mb-1">
                            <span className="text-sm font-medium text-slate-700">First Generation Students</span>
                            <span className="text-sm font-medium text-slate-700">16.9%</span>
                          </div>
                          <div className="w-full bg-slate-200 rounded-full h-2">
                            <div className="bg-purple-600 h-2 rounded-full" style={{width: '16.9%'}}></div>
                          </div>
                        </div>
                        <div>
                          <div className="flex justify-between mb-1">
                            <span className="text-sm font-medium text-slate-700">Believe in God</span>
                            <span className="text-sm font-medium text-slate-700">30.8%</span>
                          </div>
                          <div className="w-full bg-slate-200 rounded-full h-2">
                            <div className="bg-blue-600 h-2 rounded-full" style={{width: '30.8%'}}></div>
                          </div>
                        </div>
                        <div>
                          <div className="flex justify-between mb-1">
                            <span className="text-sm font-medium text-slate-700">Use Caffeine Before Class</span>
                            <span className="text-sm font-medium text-slate-700">43.1%</span>
                          </div>
                          <div className="w-full bg-slate-200 rounded-full h-2">
                            <div className="bg-green-600 h-2 rounded-full" style={{width: '43.1%'}}></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                )}

                {activeTab === 'lifestyle' && (
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div className="bg-white rounded-lg shadow p-6">
                      <h3 className="text-xl font-semibold mb-4 text-slate-800">Favorite Season</h3>
                      <ResponsiveContainer width="100%" height={300}>
                        <PieChart>
                          <Pie
                            data={seasonData}
                            cx="50%"
                            cy="50%"
                            labelLine={false}
                            label={({name, value}) => \`\${name}: \${value}\`}
                            outerRadius={80}
                            fill="#8884d8"
                            dataKey="value"
                          >
                            {seasonData.map((entry, index) => (
                              <Cell key={\`cell-\${index}\`} fill={COLORS[index % COLORS.length]} />
                            ))}
                          </Pie>
                          <Tooltip />
                        </PieChart>
                      </ResponsiveContainer>
                    </div>

                    <div className="bg-white rounded-lg shadow p-6">
                      <h3 className="text-xl font-semibold mb-4 text-slate-800">Cats vs Dogs</h3>
                      <ResponsiveContainer width="100%" height={300}>
                        <BarChart data={preferenceData}>
                          <CartesianGrid strokeDasharray="3 3" />
                          <XAxis dataKey="category" />
                          <YAxis />
                          <Tooltip />
                          <Bar dataKey="value" fill="#f59e0b" />
                        </BarChart>
                      </ResponsiveContainer>
                      <p className="text-sm text-slate-600 mt-2 text-center">It's a perfect tie!</p>
                    </div>

                    <div className="bg-white rounded-lg shadow p-6">
                      <h3 className="text-xl font-semibold mb-4 text-slate-800">Food Preferences</h3>
                      <div className="space-y-6">
                        <div>
                          <h4 className="font-medium text-slate-700 mb-2">Vanilla vs Chocolate</h4>
                          <div className="flex gap-2">
                            <div className="flex-1 bg-amber-200 rounded h-8 flex items-center justify-center font-medium text-sm">
                              Chocolate 47.7%
                            </div>
                            <div className="flex-1 bg-yellow-100 rounded h-8 flex items-center justify-center font-medium text-sm">
                              Vanilla 41.5%
                            </div>
                          </div>
                        </div>
                        <div>
                          <h4 className="font-medium text-slate-700 mb-2">Eat Out vs Order In</h4>
                          <div className="space-y-2">
                            <div className="flex justify-between">
                              <span className="text-sm">Eat out</span>
                              <span className="text-sm font-medium">52.3%</span>
                            </div>
                            <div className="w-full bg-slate-200 rounded-full h-2">
                              <div className="bg-green-600 h-2 rounded-full" style={{width: '52.3%'}}></div>
                            </div>
                            <div className="flex justify-between">
                              <span className="text-sm">Order in</span>
                              <span className="text-sm font-medium">38.5%</span>
                            </div>
                            <div className="w-full bg-slate-200 rounded-full h-2">
                              <div className="bg-blue-600 h-2 rounded-full" style={{width: '38.5%'}}></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div className="bg-white rounded-lg shadow p-6">
                      <h3 className="text-xl font-semibold mb-4 text-slate-800">Sleep & Breakfast</h3>
                      <div className="space-y-4">
                        <div>
                          <h4 className="font-medium text-slate-700 mb-2">Most Common Bedtime</h4>
                          <div className="text-3xl font-bold text-purple-600 mb-1">11:00 PM</div>
                          <p className="text-sm text-slate-600">22 students (33.8%)</p>
                        </div>
                        <div className="border-t pt-4">
                          <h4 className="font-medium text-slate-700 mb-2">Breakfast Frequency</h4>
                          <div className="text-3xl font-bold text-blue-600 mb-1">5.0 days/week</div>
                          <p className="text-sm text-slate-600">Average across all students</p>
                        </div>
                      </div>
                    </div>
                  </div>
                )}

                {activeTab === 'opinions' && (
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div className="bg-white rounded-lg shadow p-6 md:col-span-2">
                      <h3 className="text-xl font-semibold mb-4 text-slate-800">Opinion of AI</h3>
                      <ResponsiveContainer width="100%" height={300}>
                        <BarChart data={aiOpinionData}>
                          <CartesianGrid strokeDasharray="3 3" />
                          <XAxis dataKey="name" angle={-15} textAnchor="end" height={80} />
                          <YAxis />
                          <Tooltip />
                          <Bar dataKey="value" fill="#8b5cf6">
                            {aiOpinionData.map((entry, index) => (
                              <Cell key={\`cell-\${index}\`} fill={COLORS[index % COLORS.length]} />
                            ))}
                          </Bar>
                        </BarChart>
                      </ResponsiveContainer>
                      <div className="mt-4 p-4 bg-red-50 rounded-lg">
                        <p className="text-sm text-red-800">
                          <span className="font-semibold">Key Finding:</span> 67.7% of students have negative views of AI, 
                          with only 13.8% having positive opinions
                        </p>
                      </div>
                    </div>

                    <div className="bg-white rounded-lg shadow p-6">
                      <h3 className="text-xl font-semibold mb-4 text-slate-800">Family Pressure</h3>
                      <div className="space-y-4">
                        <div className="text-center">
                          <div className="text-5xl font-bold text-purple-600 mb-2">5.9/10</div>
                          <p className="text-slate-600">Average family pressure to attend college</p>
                        </div>
                        <div className="border-t pt-4">
                          <h4 className="font-medium text-slate-700 mb-3">By First Gen Status:</h4>
                          <div className="space-y-2">
                            <div className="flex justify-between items-center">
                              <span className="text-sm">Not First Gen</span>
                              <span className="text-lg font-semibold text-purple-600">6.1/10</span>
                            </div>
                            <div className="flex justify-between items-center">
                              <span className="text-sm">First Gen</span>
                              <span className="text-lg font-semibold text-blue-600">5.3/10</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div className="bg-white rounded-lg shadow p-6">
                      <h3 className="text-xl font-semibold mb-4 text-slate-800">Travel Experience</h3>
                      <div className="space-y-6">
                        <div>
                          <div className="flex justify-between mb-2">
                            <span className="font-medium text-slate-700">Visited 15+ US States</span>
                            <span className="font-semibold text-purple-600">27.7%</span>
                          </div>
                          <div className="w-full bg-slate-200 rounded-full h-3">
                            <div className="bg-purple-600 h-3 rounded-full" style={{width: '27.7%'}}></div>
                          </div>
                        </div>
                        <div>
                          <div className="flex justify-between mb-2">
                            <span className="font-medium text-slate-700">Visited 5+ Countries</span>
                            <span className="font-semibold text-blue-600">29.2%</span>
                          </div>
                          <div className="w-full bg-slate-200 rounded-full h-3">
                            <div className="bg-blue-600 h-3 rounded-full" style={{width: '29.2%'}}></div>
                          </div>
                        </div>
                        <div className="pt-4 border-t">
                          <p className="text-sm text-slate-600">
                            Range: 3-48 states | 0-25 countries
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                )}

                <div className="mt-8 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg shadow p-6">
                  <h3 className="text-xl font-semibold mb-4 text-slate-800">Key Insights</h3>
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div className="flex items-start space-x-2">
                      <span className="text-purple-600 font-bold">•</span>
                      <p className="text-sm text-slate-700">
                        <span className="font-semibold">Regional:</span> 60% from WA outside Whatcom, mostly local students
                      </p>
                    </div>
                    <div className="flex items-start space-x-2">
                      <span className="text-purple-600 font-bold">•</span>
                      <p className="text-sm text-slate-700">
                        <span className="font-semibold">Work-Life:</span> 58.5% don't work, suggesting full-time student focus
                      </p>
                    </div>
                    <div className="flex items-start space-x-2">
                      <span className="text-purple-600 font-bold">•</span>
                      <p className="text-sm text-slate-700">
                        <span className="font-semibold">AI Sentiment:</span> Overwhelmingly negative (68%), very few positive opinions
                      </p>
                    </div>
                    <div className="flex items-start space-x-2">
                      <span className="text-purple-600 font-bold">•</span>
                      <p className="text-sm text-slate-700">
                        <span className="font-semibold">Preferences:</span> Cats and dogs tied perfectly at 24 each!
                      </p>
                    </div>
                    <div className="flex items-start space-x-2">
                      <span className="text-purple-600 font-bold">•</span>
                      <p className="text-sm text-slate-700">
                        <span className="font-semibold">Meals:</span> Campus dining split evenly, 34% eat 0 campus meals
                      </p>
                    </div>
                    <div className="flex items-start space-x-2">
                      <span className="text-purple-600 font-bold">•</span>
                      <p className="text-sm text-slate-700">
                        <span className="font-semibold">Sleep:</span> Most students go to bed at 11 PM, fairly consistent schedule
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SurveyDashboard />);
      `;
      document.body.appendChild(script);
    }

    checkLibrariesLoaded();
  </script>
</body>
</html>
